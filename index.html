<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงูุชูุฑูุฑ ุงูุฎุชุงูู ุงูุดุงูู ูููุงูุงุช ููุดุงุฑูุน ุงูุฃุณุชุงุฐ ุนุจุฏ ุงูุนุฒูุฒ ุฃุจู ูุญูุฏ</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Google Fonts: Cairo -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&display=swap" rel="stylesheet">

    <!-- Tailwind Config for Colors & Fonts -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Cairo', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            50: '#f0fdfa',
                            100: '#ccfbf1',
                            500: '#14b8a6', // Teal main
                            700: '#0f766e',
                            900: '#134e4a',
                        },
                        accent: {
                            500: '#f59e0b', // Amber
                            600: '#d97706',
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #f8fafc; /* Light slate */
            color: #1e293b;
            scroll-behavior: smooth;
        }

        /* Chart Container Styling - Mandatory Constraint */
        .chart-container {
            position: relative;
            width: 100%;
            margin-left: auto;
            margin-right: auto;
        }
        
        .modal-open {
            overflow: hidden;
        }

        .tab-btn.active {
            border-bottom: 2px solid #0f766e;
            color: #0f766e;
            font-weight: 700;
        }

        /* Custom Scrollbar for a polished look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }
    </style>

    <!-- Chosen Palette: Warm Neutrals with Teal (Trust/Growth) and Amber (Warmth/Hope) Accents. Background is light slate. -->
    
    <!-- Application Structure Plan: 
         1. Hero/Vision: Sets the narrative tone (Relief -> Education shift). 
         2. Financial Dashboard: High-level quantitative view using charts and stat cards to immediately answer "where did the money go?". 
         3. Interactive Families Portfolio: A card grid with filtering. This allows users to explore qualitative/quantitative data per family without being overwhelmed. Click to open details.
         4. Camps & Projects: Highlights the community impact (widows, rings). 
         5. Governance/Transparency: Explains stopped sponsorships to build trust. -->
    
    <!-- Visualization & Content Choices: 
         - Financial Summary -> Donut Chart (Chart.js)
         - Financial Breakdown -> Bar Chart (Chart.js)
         - Family Details -> Interactive Cards & Modal (HTML/JS)
         - Icons: Switched from generic humans to Hijabi emoji (๐ง) for cultural alignment. -->
</head>
<body class="antialiased">

    <!-- Navigation -->
    <nav class="bg-white shadow-sm sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <span class="text-2xl">๐ฑ</span>
                    <span class="font-bold text-xl text-brand-900 mr-2">ูุดุงุฑูุน ุงูุฃุณุชุงุฐ ุนุจุฏ ุงูุนุฒูุฒ</span>
                </div>
                <div class="hidden md:flex items-center space-x-8 space-x-reverse">
                    <a href="#vision" class="text-gray-600 hover:text-brand-700 transition">ุงูุฑุคูุฉ</a>
                    <a href="#financials" class="text-gray-600 hover:text-brand-700 transition">ุงูููุฎุต ุงููุงูู</a>
                    <a href="#families" class="text-gray-600 hover:text-brand-700 transition">ุงูุนุงุฆูุงุช ุงููููููุฉ</a>
                    <a href="#camps" class="text-gray-600 hover:text-brand-700 transition">ุงููุฎููุงุช</a>
                    <a href="#governance" class="text-gray-600 hover:text-brand-700 transition">ุงูุฑูุงุจุฉ</a>
                </div>
            </div>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-16">

        <!-- Section 1: Hero & Vision -->
        <section id="vision" class="bg-white rounded-2xl shadow-sm p-8 border border-gray-100 mt-4">
            <div class="text-center max-w-3xl mx-auto">
                <span class="text-sm font-bold tracking-wider text-brand-700 bg-brand-50 px-3 py-1 rounded-full">ุฃุจุฑูู 2025 - ูุจุฑุงูุฑ 2026</span>
                <h1 class="mt-4 text-3xl md:text-4xl font-extrabold text-gray-900 leading-tight">ุงูุชูุฑูุฑ ุงูุฎุชุงูู ุงูุดุงูู ูููุงูุงุช ููุดุงุฑูุน <span class="text-brand-700">ุงูุฃุณุชุงุฐ ุนุจุฏ ุงูุนุฒูุฒ ุฃุจู ูุญูุฏ</span></h1>
                
                <p class="mt-6 text-lg text-gray-600 leading-relaxed text-justify md:text-center">
                    ุจุฏุฃ ูุฐุง ุงููุดุฑูุน ุจูุถู ุงููู ุซู ุจุฏุนููู ุงููุฑูู ูุจุงุฏุฑุฉ ูุชูุฏูู ุงูููุงูุฉ ุงููุงููุฉ ุงููุจุงุดุฑุฉ ููุฃุฑุงูู ูุชุฎููู ุงูุฃุนุจุงุก ุงููุนูุดูุฉ ุนู ูุงูููู. ููุน ุงุณุชูุฑุงุฑ ุงููุชุงุจุนุฉ ุงูููุฏุงููุฉ ุงูุญุซูุซุฉุ ุงุณุชุดุนุฑูุง ุถุฑูุฑุฉ ุงูุงูุชูุงู ูู ุงูุฏุนู ุงูุฅุบุงุซู ุงูุจุญุช ุฅูู <strong>ุฏุนู ุฃุนูู ูุดูู ุงูุฌูุงูุจ ุงูุชุฑุจููุฉ ูุงูุชุนููููุฉ</strong>ุ ููุง ุฃุซูุฑ ุนู ุชุฃุณูุณ ููุธููุฉ ูุชูุงููุฉ ุชูุฏู ูุจูุงุก ุงูุฅูุณุงู.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-10">
                <div class="bg-brand-50 p-6 rounded-xl border border-brand-100 text-center hover:-translate-y-1 transition duration-300">
                    <div class="text-4xl mb-3">๐</div>
                    <h3 class="font-bold text-lg text-brand-900 mb-2">ููุฑุฃุฉ ุณุจูู ุงููุฏู</h3>
                    <p class="text-gray-600 text-sm">ูุฑุจุท ุงูุนุงุฆูุงุช ุจุงููุฑุขู ุงููุฑูู ุชุนูููุงู ูุชุฑุจูุฉ ูุตูุงุนุฉ ุฌูู ูุฑุขูู.</p>
                </div>
                <div class="bg-brand-50 p-6 rounded-xl border border-brand-100 text-center hover:-translate-y-1 transition duration-300">
                    <div class="text-4xl mb-3">๐ค</div>
                    <h3 class="font-bold text-lg text-brand-900 mb-2">ุจุฑูุงูุฌ "ูููุง ูุงุญุฏ"</h3>
                    <p class="text-gray-600 text-sm">ูุงุญุชูุงุก ุงูุฃูุชุงู ุงูุฐููุฑ ูุชูุฌูููู ุชุฑุจููุงู ูุงุฌุชูุงุนูุงู ููููููุง ูุจูุฉ ุตุงูุญุฉ.</p>
                </div>
                <div class="bg-brand-50 p-6 rounded-xl border border-brand-100 text-center hover:-translate-y-1 transition duration-300">
                    <div class="text-4xl mb-3">๐ง</div>
                    <h3 class="font-bold text-lg text-brand-900 mb-2">ููุงูุฉ ุงูุฃุฑุงูู ุงููุญูุธุงุช</h3>
                    <p class="text-gray-600 text-sm">ูุชูููู ุงูุฃุฑุงูู ุงููุคููุงุช ูู ุงูุนูู ูุฎุฏูุฉ ุงููุฌุชูุน ูู ุฏุงุฎู ููุงุฒููู.</p>
                </div>
            </div>
        </section>

        <!-- Section 2: Financial Dashboard -->
        <section id="financials" class="space-y-6">
            <div class="mb-8 border-r-4 border-brand-500 pr-4">
                <h2 class="text-2xl font-bold text-gray-900">ุงูููุฎุต ุงููุงูู ุงูุชูููุฐู</h2>
                <p class="text-gray-600 mt-2">
                    ูุนุฑุถ ูุฐุง ุงููุณู ุญุฑูุฉ ุงูุฃููุงู ุจุฏูุฉ ูุดูุงููุฉ ุฎูุงู ูุชุฑุฉ ุงููุดุฑูุนุ ูููุถุญ ุญุฌู ุงูุชุจุฑุนุงุช ุงููุงุฑุฏุฉ ููุงุจู ูููุงุช ุงูุตุฑู ุงููุฎุชููุฉ.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex flex-col items-center justify-center">
                    <span class="text-gray-500 text-sm mb-1">ุฅุฌูุงูู ุงูุชุจุฑุนุงุช</span>
                    <span class="text-3xl font-black text-gray-900">32,000 $</span>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex flex-col items-center justify-center border-b-4 border-b-rose-500">
                    <span class="text-gray-500 text-sm mb-1">ุฅุฌูุงูู ุงููุตุฑููุงุช</span>
                    <span class="text-3xl font-black text-rose-600">28,150 $</span>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex flex-col items-center justify-center border-b-4 border-b-brand-500">
                    <span class="text-gray-500 text-sm mb-1">ุงููุงุฆุถ ุงููุชุจูู (ููุงุฑุณ)</span>
                    <span class="text-3xl font-black text-brand-600">3,850 $</span>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex flex-col items-center justify-center border-b-4 border-b-accent-500">
                    <span class="text-gray-500 text-sm mb-1">ูุณุจุฉ ุงูุฅูุฌุงุฒ ุงููุงูู</span>
                    <span class="text-3xl font-black text-accent-600">88%</span>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                    <h3 class="text-lg font-bold text-center mb-4 text-gray-700">ุชูุฒูุน ุงูููุฒุงููุฉ ุงูุฅุฌูุงููุฉ</h3>
                    <div class="chart-container max-w-md h-[300px] md:h-[350px]">
                        <canvas id="budgetDonutChart"></canvas>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                    <h3 class="text-lg font-bold text-center mb-4 text-gray-700">ุชูุตูู ุงููุตุฑููุงุช ุงููููุฐุฉ</h3>
                    <div class="chart-container max-w-full h-[300px] md:h-[350px]">
                        <canvas id="expensesBarChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: Sponsored Families Portfolio -->
        <section id="families" class="space-y-6">
            <div class="mb-8 border-r-4 border-accent-500 pr-4">
                <h2 class="text-2xl font-bold text-gray-900">ุชูุตูู ุงูุญุงูุงุช ุงูุงุฌุชูุงุนูุฉ (ุงูุนุงุฆูุงุช ุงููููููุฉ)</h2>
                <p class="text-gray-600 mt-2">
                    ูุณุชุนุฑุถ ูุฐุง ุงููุณู ุงูุจุทุงูุงุช ุงูุชูุตูููุฉ ููุนุงุฆูุงุช ุงูุซูุงููุฉ ุงููุณุชูุฑุฉ ูู ุจุฑูุงูุฌ ุงูููุงูุฉ.
                </p>
            </div>

            <div class="flex flex-wrap gap-2 mb-6" id="family-filters">
                <button class="px-4 py-2 bg-brand-700 text-white rounded-lg text-sm font-semibold transition filter-btn" data-filter="all">ุงููู</button>
                <button class="px-4 py-2 bg-white text-gray-600 border border-gray-200 rounded-lg text-sm font-semibold hover:bg-gray-50 transition filter-btn" data-filter="ุชุฑููุง">ุชุฑููุง</button>
                <button class="px-4 py-2 bg-white text-gray-600 border border-gray-200 rounded-lg text-sm font-semibold hover:bg-gray-50 transition filter-btn" data-filter="ุณูุฑูุง">ุณูุฑูุง</button>
                <button class="px-4 py-2 bg-white text-gray-600 border border-gray-200 rounded-lg text-sm font-semibold hover:bg-gray-50 transition filter-btn" data-filter="ุณุฑุทุงู">ูุฑุถู ุงูุณุฑุทุงู</button>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6" id="families-grid">
                <!-- Injected via JS -->
            </div>
        </section>

        <!-- Section 4: Camps & Projects -->
        <section id="camps" class="space-y-6">
            <div class="mb-8 border-r-4 border-brand-500 pr-4">
                <h2 class="text-2xl font-bold text-gray-900">ุฏุนู ุงููุฎููุงุช ูุงููุดุงุฑูุน ุงูุชุฑุจููุฉ</h2>
                <p class="text-gray-600 mt-2">ููุฌู ุฌุฒุก ูู ุงูุฏุนู ูุชูููุฑ ุฑุนุงูุฉ ุชุนููููุฉ ูุชุฑุจููุฉ ูุฅุบุงุซูุฉ ููุฌููุนุงุช ูู ุงูุฃุฑุงูู ูู ูุฎููุงุช ุงูุดูุงู ุงูุณูุฑู.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden group">
                    <div class="bg-brand-700 p-4 text-white flex justify-between items-center">
                        <h3 class="font-bold text-lg">ูุฎูู ุญููุฏุงุช ุนุงุฆุดุฉ</h3>
                        <span class="text-2xl">โบ</span>
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-center border-b border-gray-100 pb-4 mb-4">
                            <div class="text-gray-500 text-sm">ุนุฏุฏ ุงูุฃุฑุงูู ุงููุณุชููุฏุงุช</div>
                            <div class="font-bold text-xl text-gray-900">55 ุฃุฑููุฉ</div>
                        </div>
                        <div class="flex justify-between items-center border-b border-gray-100 pb-4 mb-4">
                            <div class="text-gray-500 text-sm">ุงูุญููุงุช ุงููุฑุขููุฉ ุงูููุชุธูุฉ</div>
                            <div class="font-bold text-xl text-brand-600 flex items-center gap-2">
                                <span>7 ุญููุงุช</span>
                                <span>๐</span>
                            </div>
                        </div>
                        <div class="flex justify-between items-center">
                            <div class="text-gray-500 text-sm">ุฅุฌูุงูู ุงููุตุฑูู</div>
                            <div class="font-bold text-xl text-accent-600">6,482.74 $</div>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden group">
                    <div class="bg-brand-700 p-4 text-white flex justify-between items-center">
                        <h3 class="font-bold text-lg">ูุฎูู ุนุงุฆุดุฉ ุจูุช ุฃุจู ุจูุฑ (ุงูููุนุฉ)</h3>
                        <span class="text-2xl">โบ</span>
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-center border-b border-gray-100 pb-4 mb-4">
                            <div class="text-gray-500 text-sm">ุงูุนุงุฆูุงุช/ุงูุฃุฑุงูู ุงููุณุชููุฏุงุช</div>
                            <div class="font-bold text-xl text-gray-900">20 ุนุงุฆูุฉ</div>
                        </div>
                        <div class="flex justify-between items-center border-b border-gray-100 pb-4 mb-4">
                            <div class="text-gray-500 text-sm">ุงูุญููุงุช ุงูุชุฑุจููุฉ</div>
                            <div class="font-bold text-xl text-brand-600 flex items-center gap-2">
                                <span>3 ุญููุงุช</span>
                                <span>๐</span>
                            </div>
                        </div>
                        <div class="flex justify-between items-center">
                            <div class="text-gray-500 text-sm">ุฅุฌูุงูู ุงููุตุฑูู</div>
                            <div class="font-bold text-xl text-accent-600">1,600 $</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 5: Governance & Evaluation -->
        <section id="governance" class="bg-gray-800 text-white rounded-2xl p-8 shadow-md">
            <div class="max-w-4xl mx-auto">
                <div class="flex items-center gap-3 mb-6">
                    <span class="text-3xl">โ๏ธ</span>
                    <h2 class="text-2xl font-bold">ุงูุฑูุงุจุฉ ูุงูุชูููู</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-gray-700 p-5 rounded-xl border border-gray-600">
                        <div class="flex justify-between items-start mb-2">
                            <h4 class="font-bold text-lg text-rose-300">ุนุงุฆูุฉ ุญูุงู ุงูุฃุญูุฏ</h4>
                            <span class="bg-rose-900 text-rose-200 text-xs px-2 py-1 rounded">ุฏุนู ููููู</span>
                        </div>
                        <p class="text-sm text-gray-400">ุณุจุจ ุงูุฅููุงู: ุชุญุณู ุงููุถุน ุงููุงุฏู.</p>
                    </div>
                    <div class="bg-gray-700 p-5 rounded-xl border border-gray-600">
                        <div class="flex justify-between items-start mb-2">
                            <h4 class="font-bold text-lg text-rose-300">ุนุงุฆูุฉ ุฑุงููุง ุนุฌู</h4>
                            <span class="bg-rose-900 text-rose-200 text-xs px-2 py-1 rounded">ุฏุนู ููููู</span>
                        </div>
                        <p class="text-sm text-gray-400">ุณุจุจ ุงูุฅููุงู: ุชููุฑ ุจุฏุงุฆู ุฏุฎู.</p>
                    </div>
                </div>
            </div>
        </section>

        <footer class="text-center pb-12 pt-8 border-t border-gray-200">
            <h3 class="text-xl font-bold text-gray-900 mb-4">ุฃุณุชุงุฐูุง ุงููุงุถู ุนุจุฏ ุงูุนุฒูุฒุ</h3>
            <p class="text-gray-600 max-w-2xl mx-auto leading-relaxed text-lg">
                ููุฏุฑ ููู ุซูุชูู ููุณุฃู ุงููู ุฃู ูุจุงุฑู ููู ูู ุนุทุงุฆูู.
            </p>
            <div class="mt-6 text-sm text-gray-400 font-semibold tracking-wider">ุญุฑุฑ ูู: ูุจุฑุงูุฑ 2026</div>
        </footer>

    </main>

    <!-- Family Details Modal -->
    <div id="family-modal" class="fixed inset-0 z-50 hidden bg-gray-900 bg-opacity-50 flex items-center justify-center p-4 transition-opacity">
        <div class="bg-white rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden transform scale-95 transition-transform" id="modal-content">
            <div class="bg-brand-700 p-5 flex justify-between items-center text-white">
                <h3 class="text-xl font-bold" id="modal-name">ุงุณู ุงูุนุงุฆูุฉ</h3>
                <button id="close-modal" class="text-white hover:text-gray-200 text-2xl leading-none">&times;</button>
            </div>
            <div class="p-6 space-y-5">
                <div class="flex flex-wrap gap-2 text-sm border-b border-gray-100 pb-4" id="modal-tags"></div>
                <div class="grid grid-cols-2 gap-4">
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <div class="text-gray-500 text-xs mb-1">ููุงู ุงูุฅูุงูุฉ</div>
                        <div class="font-semibold text-gray-900" id="modal-location"></div>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <div class="text-gray-500 text-xs mb-1">ุงููุถุน ุงูุนุงุฆูู</div>
                        <div class="font-semibold text-gray-900" id="modal-family-status"></div>
                    </div>
                </div>
                <div>
                    <h4 class="font-bold text-brand-900 mb-2 border-r-2 border-brand-500 pr-2">ุงูุญุงูุฉ ุงูุตุญูุฉ ูุงูุฅุฌุชูุงุนูุฉ</h4>
                    <p class="text-gray-700 bg-white border border-gray-200 p-4 rounded-lg leading-relaxed" id="modal-health"></p>
                </div>
                <div class="flex justify-between items-center bg-brand-50 p-4 rounded-lg border border-brand-100 mt-4">
                    <span class="font-bold text-brand-900">ุฅุฌูุงูู ุงูููุงูุฉ ุงููุตุฑููุฉ</span>
                    <span class="text-2xl font-black text-brand-700" id="modal-sponsorship"></span>
                </div>
            </div>
        </div>
    </div>

    <!-- Application Logic -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const familiesData = [
                {
                    id: 1,
                    name: "ุนุงุฆูุฉ ูุฏู ุงููุญููุฏ",
                    location: "ุชุฑููุง - ุบุงุฒู ุนูุชุงุจ",
                    status: "ุฃุฑููุฉ (54 ุณูุฉ)",
                    familyState: "ุชุนูู ุฃุณุฑุฉ ูู 6 ุฃูุฑุงุฏ",
                    health: "ุชุนุงูู ุงูุฃู ูู ูุฑุถ ุงูุณูุฑูุ ููุฏููุง ุงุจู ูุนุงูู ูู ูุดู ูููู.",
                    challenges: "ุฅูุฌุงุฑ ููุฒู 20,000 ููุฑุฉ ุชุฑููุฉ.",
                    sponsorship: 1338,
                    tags: ["ุชุฑููุง", "ุฃุฑููุฉ", "ูุดู ูููู"]
                },
                {
                    id: 2,
                    name: "ุนุงุฆูุฉ ููุฑูุงู ุญูุดูุฉ",
                    location: "ุชุฑููุง - ุฅุณุทูุจูู",
                    status: "ูุทููุฉ (39 ุณูุฉ)",
                    familyState: "ุชุนูู 3 ุฃุจูุงุก",
                    health: "ุชุชุงุจุน ุนูุงุฌุงู ูู ูุชูุฉ ูู ุงูุซุฏู.",
                    challenges: "ุฅูุฌุงุฑ ููุฒู 22,000 ููุฑุฉ ุชุฑููุฉ.",
                    sponsorship: 1675,
                    tags: ["ุชุฑููุง", "ูุทููุฉ", "ุณุฑุทุงู"]
                },
                {
                    id: 3,
                    name: "ุนุงุฆูุฉ ุณููุญุฉ ุฃููุณู",
                    location: "ุชุฑููุง - ุฅุณุทูุจูู",
                    status: "ูุทููุฉ (52 ุณูุฉ)",
                    familyState: "ุชุนูู ุงุจูุงู ูุตุงุจ ุจุดูู ูุงูู",
                    health: "ุงูุฃู ูุตุงุจุฉ ุจุณุฑุทุงู ูุชูุฏู ูุฎุถุน ูุนูุงุฌ ูููุงูู.",
                    challenges: "ุฑุนุงูุฉ ูุงููุฉ ููููุนุฏูู.",
                    sponsorship: 6100,
                    tags: ["ุชุฑููุง", "ูุทููุฉ", "ุณุฑุทุงู", "ุฅุนุงูุฉ ุญุฑููุฉ"]
                },
                {
                    id: 4,
                    name: "ุนุงุฆูุฉ ูุงุฏูุง ุฏููุฎู",
                    location: "ุชุฑููุง - ุฅุณุทูุจูู",
                    status: "ุฃุฑููุฉ (51 ุณูุฉ)",
                    familyState: "ุชุนูู 4 ุฃุจูุงุก",
                    health: "ูุฑูุถุฉ ุจุงูุณุฑุทุงู ูุชุชุงุจุน ุนูุงุฌูุง.",
                    challenges: "ุฅูุฌุงุฑ 18,000 ููุฑุฉ ุชุฑููุฉ.",
                    sponsorship: 1200,
                    tags: ["ุชุฑููุง", "ุฃุฑููุฉ", "ุณุฑุทุงู"]
                },
                {
                    id: 5,
                    name: "ุนุงุฆูุฉ ุฑููุง ุญุฌ ุนูุฑ",
                    location: "ุชุฑููุง - ุฅุณุทูุจูู",
                    status: "ุฃุฑููุฉ (48 ุณูุฉ)",
                    familyState: "ุชุนูู 3 ุฃุทูุงู ุตุบุงุฑ",
                    health: "ุบูุงุจ ุงููุนูู ุชูุงูุงู.",
                    challenges: "ุฅูุฌุงุฑ 18,000 ููุฑุฉ ุชุฑููุฉ.",
                    sponsorship: 1855,
                    tags: ["ุชุฑููุง", "ุฃุฑููุฉ", "ุฃูุชุงู ูุตุฑ"]
                },
                {
                    id: 6,
                    name: "ุนุงุฆูุฉ ุฃูููุฉ ุฅุฏุฑูุณ",
                    location: "ุชุฑููุง - ุฅุณุทูุจูู",
                    status: "ูุทููุฉ (51 ุณูุฉ)",
                    familyState: "ุงููุนููุฉ ูู 5 ุฃุจูุงุก",
                    health: "ุณูุฑูุ ุถุบุทุ ูุดุงูู ูู ุงูููุจ.",
                    challenges: "ุฅูุฌุงุฑ 15,000 ููุฑุฉ ุชุฑููุฉ.",
                    sponsorship: 2035,
                    tags: ["ุชุฑููุง", "ูุทููุฉ", "ุฃูุฑุงุถ ูุฒููุฉ"]
                },
                {
                    id: 7,
                    name: "ุนุงุฆูุฉ ููููุฉ ูุนุฑุงูู",
                    location: "ุณูุฑูุง - ุญูุงุฉ",
                    status: "ุฃุฑููุฉ (44 ุณูุฉ)",
                    familyState: "ุชุณูู ูุน ุงุจูุชูุง ูุญููุฏุชููุง",
                    health: "ุถุบุทุ ุณูุฑูุ ุฏูุณู.",
                    challenges: "ุฅูุฌุงุฑ 15,000 ููุฑุฉ ุณูุฑูุฉ.",
                    sponsorship: 1375,
                    tags: ["ุณูุฑูุง", "ุฃุฑููุฉ", "ุฃูุฑุงุถ ูุฒููุฉ"]
                },
                {
                    id: 8,
                    name: "ุนุงุฆูุฉ ุนุจูุฑ ุจููู",
                    location: "ุชุฑููุง - ุฅุณุทูุจูู",
                    status: "ูุทููุฉ (33 ุณูุฉ)",
                    familyState: "ุชุนูู ุทูููู ูุฑูุถูู",
                    health: "ุชุถูู ุดุฑุงููู ุงูุฑุฃุณ.",
                    challenges: "ุฅูุฌุงุฑ 12,000 ููุฑุฉ ุชุฑููุฉ.",
                    sponsorship: 1475,
                    tags: ["ุชุฑููุง", "ูุทููุฉ", "ุฃูุฑุงุถ ูุฒููุฉ"]
                }
            ];

            Chart.defaults.font.family = "'Cairo', sans-serif";
            Chart.defaults.color = '#475569';

            new Chart(document.getElementById('budgetDonutChart').getContext('2d'), {
                type: 'doughnut',
                data: {
                    labels: ['ููุงูุงุช ุงูุนุงุฆูุงุช', 'ุฏุนู ุงููุฎููุงุช', 'ูุตุฑููุงุช ุฃุฎุฑู', 'ุงููุงุฆุถ'],
                    datasets: [{
                        data: [18063, 8083, 2004, 3850],
                        backgroundColor: ['#0f766e', '#f59e0b', '#64748b', '#10b981'],
                        borderWidth: 0
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, cutout: '70%', plugins: { legend: { position: 'bottom', rtl: true } } }
            });

            new Chart(document.getElementById('expensesBarChart').getContext('2d'), {
                type: 'bar',
                data: {
                    labels: ['ููุงูุงุช ูุจุงุดุฑุฉ', 'ุงููุฎููุงุช', 'ูุตุงุฑูู ุนูุงุฌูุฉ'],
                    datasets: [{ label: 'ุจุงูุฏููุงุฑ', data: [18063, 8083, 2004], backgroundColor: '#0f766e', borderRadius: 6 }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } } }
            });

            const grid = document.getElementById('families-grid');
            function renderFamilies(dataToRender) {
                grid.innerHTML = '';
                dataToRender.forEach(family => {
                    // Changed to Hijabi Icon ๐ง
                    const icon = '๐ง';
                    const card = document.createElement('div');
                    card.className = 'bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow border border-gray-100 p-5 cursor-pointer transform hover:-translate-y-1 duration-200';
                    card.innerHTML = `
                        <div class="flex justify-between items-start mb-4">
                            <div class="text-3xl">${icon}</div>
                            <span class="bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded font-bold">${family.location.split('-')[0].trim()}</span>
                        </div>
                        <h3 class="font-bold text-lg text-gray-900 mb-1">${family.name}</h3>
                        <p class="text-sm text-brand-700 font-semibold mb-3">${family.status}</p>
                        <div class="space-y-2 mt-4 text-sm text-gray-600 border-t border-gray-100 pt-4">
                            <div class="flex items-center gap-2"><span>๐ต</span> ุงูููุงูุฉ: <strong>${family.sponsorship}$</strong></div>
                        </div>
                    `;
                    card.addEventListener('click', () => openModal(family));
                    grid.appendChild(card);
                });
            }

            const modal = document.getElementById('family-modal');
            function openModal(family) {
                document.getElementById('modal-name').textContent = family.name;
                document.getElementById('modal-location').textContent = family.location;
                document.getElementById('modal-family-status').textContent = family.status;
                document.getElementById('modal-health').textContent = family.health;
                document.getElementById('modal-sponsorship').textContent = `${family.sponsorship} $`;
                document.getElementById('modal-tags').innerHTML = family.tags.map(tag => `<span class="bg-gray-100 text-gray-600 px-3 py-1 rounded-full">${tag}</span>`).join('');
                modal.classList.remove('hidden');
                document.body.classList.add('modal-open');
                setTimeout(() => document.getElementById('modal-content').classList.replace('scale-95', 'scale-100'), 10);
            }

            document.getElementById('close-modal').addEventListener('click', () => {
                document.getElementById('modal-content').classList.replace('scale-100', 'scale-95');
                setTimeout(() => { modal.classList.add('hidden'); document.body.classList.remove('modal-open'); }, 200);
            });

            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.replace('bg-brand-700', 'bg-white'));
                    e.target.classList.replace('bg-white', 'bg-brand-700');
                    const filter = e.target.getAttribute('data-filter');
                    renderFamilies(filter === 'all' ? familiesData : familiesData.filter(f => f.tags.includes(filter)));
                });
            });

            renderFamilies(familiesData);
        });
    </script>
</body>
</html>